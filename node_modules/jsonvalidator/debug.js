'use strict';

var debugPkg = require('debug');

var DEBUG_ENABLED = process && process.env && process.env.DEBUG && (process.env.DEBUG.length > 0) || 
		global.localStorage && global.localStorage.debug && (global.localStorage.debug.length > 0);

module.exports = function(pkgName, opts) {
	opts = opts || {};
	if (opts.isNoopAvailable) {
		var log = DEBUG_ENABLED ? debugPkg(pkgName) : function() {};
		log.isEnabled = isEnabled;
		return log;
	}
	return DEBUG_ENABLED ? debugPkg(pkgName) : null;
};
